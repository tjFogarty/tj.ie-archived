<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="4CLP9Nzk8aQmNgM8X5bh-baGaTICG1ta0Z9jXSLvsOc" />
    <title>{{ if not .IsHome}} {{ .Page.Title }} | {{ end }}{{ .Site.Title }}</title>
    <meta name="description" content="{{ if .IsHome }}{{ .Site.Params.description }}{{ else }}{{ if .Description }}{{ .Description }}{{ else }}{{ .Summary }}{{ end }}{{ end }}">

    <script>
      (function() {
        document.querySelector('html').classList.remove('no-js');
      })();
    </script>

    {{ partial "social-meta.html" . }}

    <!-- Preload assets -->
    <link rel="preload" href="/js/main.js" as="script">
    <link rel="preload" href="https://fathom.tj.ie/tracker.js" as="script" crossorigin>
    <link rel="preload" href="/fonts/open-sans-v15-latin-regular.woff2" as="font">
    <link rel="preload" href="/fonts/playfair-display-v14-latin-700.woff2" as="font">
    <meta name="theme-color" content="#0881a3" />

    <style>{{ readFile "public/css/main.css" | safeCSS }}</style>

    {{ range .AlternativeOutputFormats -}}
    {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
    {{ end -}}
  </head>
  <body>
    {{ partial "header.html" . }}
    {{ partial "icons.html" . }}

    <main class="content" role="main">
      {{ block "main" . }}{{ end }}
    </main>

    {{ partial "footer.html" . }}

    <script src="/js/main.js" defer></script>

    {{ if not .Site.BuildDrafts }}

    <!-- Fathom - simple website analytics - https://github.com/usefathom/fathom -->
    <script>
    (function(f, a, t, h, o, m){
      a[h]=a[h]||function(){
        (a[h].q=a[h].q||[]).push(arguments)
      };
      o=f.createElement('script'),
      m=f.getElementsByTagName('script')[0];
      o.async=1; o.src=t; o.id='fathom-script';
      m.parentNode.insertBefore(o,m)
    })(document, window, '//fathom.tj.ie/tracker.js', 'fathom');
    fathom('set', 'siteId', 'NTDOJ');
    fathom('trackPageview');
    </script>
    <!-- / Fathom -->

    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          navigator.serviceWorker.register('/service-worker.js')
        });
      }
    </script>
    {{ end }}
</body>
</html>
